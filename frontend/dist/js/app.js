!function(namespace,undefined){"use strict";namespace.BackOffice=angular.module("BackOffice",["angular.css.injector","smoothScroll","Main","Shared","Login","angulartics","angulartics.google.analytics"]),namespace.Controllers={},namespace.Services={},namespace.Directives={},BackOffice.config(function($stateProvider,$urlRouterProvider,cssInjectorProvider,$httpProvider){$httpProvider.defaults.useXDomain=!0,delete $httpProvider.defaults.headers.common["X-Requested-With"],$httpProvider.defaults.headers.common["access-control-allow-origin"]="*",cssInjectorProvider.setSinglePageMode(!0),$stateProvider.state("error",{url:"/error",views:{body:{templateUrl:"/app/common/views/404.html",controller:function($scope,cssInjector){$.getScript("http://assets.zendesk.com/external/zenbox/v2.6/zenbox.js",function(data,textStatus,jqxhr){cssInjector.add("//asset0.zendesk.com/external/zenbox/v2.6/zenbox.css")}),$scope.OpenZendeskWindow=function(){Zenbox.init({dropboxID:"20089174",url:"https://laureatesupport.zendesk.com",tabTooltip:"Soporte",tabID:"Support",tabImageURL:"https://assets.zendesk.com/external/zenbox/images/tab_es_support.png",tabColor:"black",tabPosition:"Left",hide_tab:"true"}),Zenbox.show()}}}}}),$urlRouterProvider.otherwise("/error"),$urlRouterProvider.when("","/login/signin")}),BackOffice.config(["$provide",function($provide){$provide.decorator("$rootScope",["$delegate",function($delegate){return Object.defineProperty($delegate.constructor.prototype,"$onRootScope",{value:function(name,listener){var unsubscribe=$delegate.$on(name,listener);return this.$on("$destroy",unsubscribe),unsubscribe},enumerable:!1}),$delegate}])}]),BackOffice.filter("iif",function(){return function(input,trueValue,falseValue){return input?trueValue:falseValue}}),BackOffice.value("GlobalUser",{name:"",email:"",user:""});var config;config="copypageapp.appspot.com"===location.host||"www.copypageapp.appspot.com"===location.host?{apiURL:"https://1-dot-api-dot-copypageapp.appspot.com/_ah/api"}:"qa-liugateway.appspot.com"===location.host||"www.qa-liugateway.appspot.com"===location.host?{apiURL:"https://qa-dot-api-dot-qa-liugateway.appspot.com/_ah/api"}:{apiURL:"http://localhost:8080/_ah/api"},config.deploy_current_version="1.0",config.apiEndPoint="ferris",config.apiVersion="v1",BackOffice.value("GlobalSettings",config),BackOffice.run(function(__browserDetect){}),BackOffice.controller(Controllers)}(this),function(namespace,undefined){"use strict";var Shared=angular.module("Shared",["ui.router","angular.css.injector","youtube-embed"]);Shared.provider("notificationsConfig",function(){var config={};this.setHideTimeout=function(hide){config["hideTimeout"]=hide},this.$get=function(){return{}}})}(this),function(namespace,undefined){"use strict";var Login=angular.module("Login",["ui.router"]);Login.config(function($stateProvider){$stateProvider.state("login",{url:"/login",views:{header:{templateUrl:"app/common/views/header.html"},container:{templateUrl:"app/login/views/container-main.html"},footer:{templateUrl:"app/common/views/footer.html"}}}),$stateProvider.state("login.signin",{url:"/signin",views:{"container-inside":{templateUrl:"app/login/views/signin.html",controller:"SignInCtrl"},footer:{templateUrl:"app/common/views/footer.html"}}}),$stateProvider.state("login.register",{url:"/register",views:{"container-inside":{templateUrl:"app/login/views/register.html",controller:"RegisterCtrl"},footer:{templateUrl:"app/common/views/footer.html"}}})})}(this),function(namespace,undefined){"use strict";var Main=angular.module("Main",["ui.router"]);Main.config(function($stateProvider){$stateProvider.state("main",{url:"/main",views:{header:{templateUrl:"app/common/views/header.html"},container:{templateUrl:"app/main/views/container-main.html"},footer:{templateUrl:"app/common/views/footer.html"}}}),$stateProvider.state("main.index",{url:"/index",views:{"container-inside":{templateUrl:"app/main/views/textboxes.html"},footer:{templateUrl:"app/common/views/footer.html"}}})})}(this),function(namespace,undefined){"use strict";var ContactFormController=["$scope","$attrs","$http","$location","$stateParams","__GlobalPortal","__Email","__Notifications",function($scope,$attrs,$http,$location,$stateParams,__GlobalPortal,__Email,__Notifications){$scope.submitButtonDisabled=!1,$scope.sender=$attrs.sender,$scope.subject=$attrs.subject,$scope.program=$attrs.program,$scope.template=$attrs.template;var currentEnv=$location.host();$scope.admins="global2.laureate.net"===currentEnv?$attrs.admins.split(","):"qa-liugateway.appspot.com"===currentEnv?$attrs.qaadmins.split(","):$attrs.devadmins.split(","),$scope.resetForm=function(form){$scope.email="",$scope.name="",$scope.yourmessage="",form.$setPristine()},$scope.sendEmailFromTemplate=function(name,personemail,yourmessage,form){var tags=[];tags.push({name:"NAME",content:name}),tags.push({name:"PERSONEMAIL",content:personemail}),tags.push({name:"MESSAGE",content:yourmessage}),tags.push({name:"PROGRAM",content:$scope.program}),form.$setPristine();var email_state=__Email.sendEmailFromTemplate($scope.sender,$scope.admins,$scope.subject,$scope.template,tags,!1,!1,!1);email_state.success(function(){__Notifications.showSuccess({title:"Your message was sent successfully.",message:"Thank You! Your message has been sent and we will be in touch with you as soon as possible.",hide:!0})}).error(function(){__Notifications.showWarning({title:"Your message wasn't sent.",message:"Sorry! Your message hasn't been sent. Report it in the support section.",hide:!0})})}}];angular.module("Shared").controller("ContactFormController",ContactFormController)}(this),function(namespace,undefined){"use strict";var HeaderController=["$scope","$http","$stateParams","GlobalUser","cssInjector","$rootScope","$location",function($scope,$http,$stateParams,GlobalUser,cssInjector,$rootScope,$location){$.getScript("http://assets.zendesk.com/external/zenbox/v2.6/zenbox.js",function(data,textStatus,jqxhr){cssInjector.add("//asset0.zendesk.com/external/zenbox/v2.6/zenbox.css")}),$scope.user=GlobalUser,$scope.loginRedirectKey="";var routeParts=$location.path().split("/"),locationKey=routeParts[routeParts.length-1];("resources"===locationKey||"testimonials"===locationKey||"catalog"===locationKey)&&(locationKey=routeParts[routeParts.length-2]),$scope.loginRedirectKey=locationKey,$scope.OpenZendeskWindow=function(){$("#zenbox_tab").remove(),$("#zenbox_overlay").remove(),Zenbox.init({dropboxID:"20089174",url:"https://laureatesupport.zendesk.com",tabTooltip:"Soporte",tabID:"Support",tabImageURL:"https://assets.zendesk.com/external/zenbox/images/tab_es_support.png",tabColor:"black",tabPosition:"Left",hide_tab:"true"}),Zenbox.show()},$scope.doTheBack=function(){window.history.back()}}];angular.module("Shared").controller("HeaderCtrl",HeaderController)}(this),function(namespace,undefined){"use strict";var SidebarController=["$scope","$http","$stateParams","cssInjector","$location",function($scope,$http,$stateParams,cssInjector,$location){}];angular.module("Shared").controller("SidebarCtrl",SidebarController)}(this),function(namespace,undefined){"use strict";var videoDirective=[function(){var playVideoKaltura=function(element,kalturaId,autoPlay){var EnableFullscreen="true";null!==navigator.userAgent.toLowerCase().match(/android/)&&null!==navigator.userAgent.toLowerCase().match(/chrome/)&&(EnableFullscreen="false"),kWidget.embed({targetId:element,cache_st:"1368054178",wid:"_1320581",uiconf_id:"24231962",entry_id:kalturaId,allowNetworking:"all",allowScriptAccess:"always",flashvars:{streamerType:"auto","mediaProxy.preferedFlavorBR":360,autoPlay:!0,"EmbedPlayer.EnableIpadHTMLControls":!1,EnableIpadNativeFullscreen:!0,LeadWithHTML5:"true",FullScreenZIndex:0,forceMobileHTML5:"true",ForceFlashOnDesktop:"false","EmbedPlayer.EnableFullscreen":EnableFullscreen},params:{externalInterfaceDisabled:!1},readyCallBack:function(objectId){var kdp=document.getElementById(objectId);kdp.addJsListener("doStop","showOverlay"),kdp.click()}})},playVideoYoutube=function(element,src,width,height){var videoContainer=$(element),iframe='<iframe src="'+src+'?enablejsapi=1" frameborder="0" allowfullscreen width="'+width+'" height="'+height+'"></iframe>';videoContainer.html(iframe),videoContainer.find("iframe").load(function(){this.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")})},linker=function(scope,element,attrs){var element_targetId=scope.videoContainer;(""===scope.videoContainer||scope.videoContainer===undefined)&&($(element).attr("id",scope.videoId),element_targetId=scope.videoId),element.bind("click",function(){if(scope.kalturaId===undefined||"youtube"===scope.videoType){var video_container=scope.videoContainer===undefined?element:$("#"+scope.videoContainer);playVideoYoutube(video_container,scope.videoSource,scope.width,scope.height)}else{var kaltura_loaded="undefined"!=typeof kWidget;kaltura_loaded?playVideoKaltura(element_targetId,scope.kalturaId,scope.autoPlay):$.getScript("/libs/kalturaPlayer.js").then(function(){playVideoKaltura(element_targetId,scope.kalturaId,scope.autoPlay)})}}),scope.autoPlay&&$(element).click()};return{restrict:"A",scope:{videoSource:"@",videoContainer:"@",videoType:"@",kalturaId:"@",videoId:"@",autoPlay:"@",width:"@",height:"@"},link:linker}}];angular.module("Shared").directive("gpVideo",videoDirective)}(this),function(namespace,undefined){"use strict";BackOffice.directive("toggleDropdown",[function(){return{restrict:"A",link:function(scope,$elm,attr){$elm.on("click",function(){$elm.hasClass("nav-dropdown-is-open")?$elm.removeClass("nav-dropdown-is-open"):$elm.addClass("nav-dropdown-is-open")})}}}]),BackOffice.directive("closeDropdown",[function(){return{restrict:"A",link:function(scope,$elm,attr){$elm.on("click",function(){$elm.hasClass("nav-dropdown-is-open")&&$elm.removeClass("nav-dropdown-is-open")})}}}])}(this),BackOffice.filter("FilterByType",function(){return function(items,filterValue,ammount){var filtered=[];if("undefined"!=typeof items)for(var i=0;i<items.length;i++){var item=items[i];filterValue.indexOf(item.type.keyname)!==-1&&filtered.push(item)}return filtered.slice(0,ammount)}}),BackOffice.filter("TrimQuote",function(){return function(quote){return"undefined"!=typeof quote?quote.substring(0,100)+"...":void 0}}),function(namespace,undefined){"use strict";BackOffice.directive("modalContainer",function($timeout,$compile){return{restrict:"EA",templateUrl:"/app/common/views/modal-window.html",scope:!0,link:function(scope){scope.modalOptions={};var defaultModalOptions={closeButtonText:"Close",headerText1:"Signature",headerText2:"Products",contentType:"Video",VideoProvider:"youtube",VideoId:"ix932j4",BodyContent:"This is a modal window"};scope.playerVars={autoplay:1};var closeModalWindow=function(){var timerHide=$timeout(function(){$(".modal").removeClass("modal--is-open"),$timeout.cancel(timerHide)},100);scope.modalOptions=null},modalWindowVideoHandler=function(event,data){var message,hide,title;scope.modalOptions="object"==typeof data?data:defaultModalOptions,"kaltura"===scope.modalOptions.VideoProvider?($(".video-container").prepend($compile('<div video-id="kalturaModal" style="width:100%;height:100%" gp-video video-type="kaltura" kaltura-id="{{modalOptions.VideoId}}" auto-play="false"></div>')(scope)),$timeout(function(){$("#kalturaModal").click()})):$(".video-container").prepend($compile(' <youtube-video ng-if="modalOptions.VideoProvider === \'youtube\'"" player="youtubePlayer"                                    video-id="modalOptions.VideoId" player-width="\'100%\'" player-height="\'100%\'"                                    player-vars="playerVars"></youtube-video>')(scope));var timerShow=$timeout(function(){$(".modal").addClass("modal--is-open"),$timeout.cancel(timerShow)},150)},modalWindowTextHandler=function(event,data){scope.modalOptions="object"==typeof data?data:defaultModalOptions;var timerShow=$timeout(function(){$(".modal").addClass("modal--is-open"),$timeout.cancel(timerShow)},150)};scope.stopVideos=function(){"undefined"!=typeof kWidget&&kWidget.destroy("kalturaModal"),$(".video-container").empty()},scope.$on("modal:open-video",function(event,data){modalWindowVideoHandler(event,data)}),scope.$on("modal:open-text",function(event,data){modalWindowTextHandler(event,data)}),scope.close=function(){closeModalWindow()}}}})}(this),function(namespace,undefined){"use strict";BackOffice.directive("notificationsBar",function(notificationsConfig,$timeout){return{restrict:"EA",template:'            <div ng-if="notifications.length">                <div class="alert alert-{{note.type}}" ng-repeat="note in notifications">                  <i class="alert-icon icon-check-bold"></i>                    <div class="alert-message">                        <h3>{{note.title}}</h3>                        <p>{{note.message}}</p>                    </div>                  <a class="alert-close" ng-click="close($index)"><i class="icon-close"></i></a>                </div>            </div>			',link:function(scope){var notifications=scope.notifications=[],timers=[],defaultTimeout=4e3,removeById=function(id){var found=-1;notifications.forEach(function(el,index){el.id===id&&(found=index)}),found>=0&&notifications.splice(found,1)},notificationHandler=function(event,data,type){var message,hide,title;"object"==typeof data?(title=data.title,message=data.message,hide=data.hide):message=data;var id="notif_"+Math.floor(100*Math.random());notifications.push({id:id,type:type,message:message,title:title});var timerShow=$timeout(function(){$(".alert").addClass("is-active"),$timeout.cancel(timerShow)},150);if(hide)var timer=$timeout(function(){var timerHide=$timeout(function(){$(".alert").addClass("is-active"),$timeout.cancel(timerHide)},100);$(".alert").removeClass("is-active"),removeById(id),$timeout.cancel(timer)},defaultTimeout)};scope.$on("notifications:error",function(event,data){notificationHandler(event,data,"error")}),scope.$on("notifications:warning",function(event,data){notificationHandler(event,data,"warning")}),scope.$on("notifications:success",function(event,data){notificationHandler(event,data,"success")}),scope.close=function(index){notifications.splice(index,1)}}}})}(this),function(namespace,undefined){"use strict";BackOffice.directive("errSrc",[function(){return{link:function(scope,element,attrs){scope.$watch(function(){return attrs["ngSrc"]},function(value){value||element.attr("src",attrs.errSrc)}),element.bind("error",function(){element.attr("src",attrs.errSrc)})}}}])}(this),function(namespace,undefined){"use strict";BackOffice.directive("stickyHeader",function($window){return function(scope,element,attrs){angular.element($window).bind("scroll",function(){var distanceY=$window.pageYOffset,shrinkOn=$window.innerHeight-element[0].offsetHeight;element.hasClass("smaller")&&(shrinkOn-=60),distanceY>shrinkOn?element.addClass("smaller"):element.removeClass("smaller"),scope.$apply()})}}),BackOffice.directive("blurrySection",function($window){return function(scope,element,attrs){angular.element($window).bind("scroll",function(){var distanceY=$window.pageYOffset,shrinkOn=$window.innerHeight-element[0].offsetHeight/2;distanceY>shrinkOn?element.addClass("blur"):element.removeClass("blur"),scope.$apply()})}}),BackOffice.directive("loadMore",function($window){return function(scope,elm,attr){angular.element($window).bind("scroll",function(){var distanceY=$window.pageYOffset,documentHeight=$(document).height(),innerHeight=$window.innerHeight,headersHeight=0,foldersHeight=$(".block-folder-container").height();$("header").each(function(){headersHeight+=$(this).height()}),distanceY+innerHeight>=documentHeight-10&&scope.$apply(attr.loadMore)})}}),BackOffice.directive("scrollTop",function(){return{restrict:"A",link:function(scope,element,attrs){element.bind("click",function(){$(window).scrollTop(0)})}}})}(this),function(namespace,undefined){"use strict";BackOffice.directive("toggleSidebar",[function(){return{restrict:"A",link:function(scope,$elm,attr){$elm.on("click",function(){$("body").hasClass("explore-the-portal-is-open")?$("body").removeClass("explore-the-portal-is-open"):$("body").addClass("explore-the-portal-is-open")})}}}]),BackOffice.directive("closeSidebar",[function(){return{restrict:"A",link:function(scope,$elm,attr){$elm.on("click",function(){$("body").removeClass("explore-the-portal-is-open")})}}}])}(this),function(namespace,undefined){"use strict";var browserDetect=["$http","$location",function($http,$location){var detectorService={isValid:function(){var versions={firefox:{keyname:"firefox",minVersion:"33"},webkit:{keyname:"webkit",minVersion:"33"},msie:{keyname:"msie",minVersion:"33"},safari:{keyname:"safari",minVersion:"33"},chrome:{keyname:"chrome",minVersion:"39"},opera:{keyname:"opera",minVersion:"33"}};if(namespace.bowser.msie)return!0;if(namespace.bowser.safari)return!0;if(namespace.bowser.chrome){if(namespace.bowser.version<=versions["chrome"].minVersion)return!0;$location.path("/oldbrowser")}else $location.path("/oldbrowser")}};return detectorService}];angular.module("Shared").service("__browserDetect",browserDetect)}(this),function(namespace,undefined){"use strict";var EmailServices=["$http","GlobalSettings",function($http,GlobalSettings,transformRequestAsFormPost){var MandrillEmailServices={sendEmail:function(from,to,subject,type,content,autotextEnabled,trackOpensEnabled,trackClicksEnabled){var m=new mandrill.Mandrill(GlobalSettings.mandrillKey),params={message:""};params.message={from_email:from,to:[],subject:subject,autotext:autotextEnabled,track_opens:trackOpensEnabled,track_clicks:trackClicksEnabled},"html"===type?params.message.text=content:params.message.html=content,angular.forEach(to,function(person,key){params.message.to.push({email:person})}),m.messages.send(params,function(res){return!0},function(err){return!1})},sendEmailFromTemplate:function(from,to,subject,templatename,tags,autotextEnabled,trackOpensEnabled,trackClicksEnabled,success,error){var m=new mandrill.Mandrill(GlobalSettings.mandrillKey),params={message:"",template_name:templatename,template_content:[]};params.message={from_email:from,to:[],subject:subject,autotext:autotextEnabled,track_opens:trackOpensEnabled,track_clicks:trackClicksEnabled,merge_vars:[]},angular.forEach(to,function(person,key){params.message.to.push({email:person}),params.message.merge_vars.push({rcpt:person,vars:tags})});var extra_params={auto_text:autotextEnabled,track_opens:trackOpensEnabled,track_clicks:trackClicksEnabled},data={sender:from,sender_name:"Signature Products Portal",to:params.message.to,template:templatename,subject:subject,merge_vars:params.message.merge_vars,extra_params:extra_params},data_json=JSON.stringify(data),post={method:"POST",url:GlobalSettings.apiURL+"/"+GlobalSettings.apiEndPointGlobal+"/"+GlobalSettings.apiVersion+"/global_emails/emails",data:data_json,contentType:"application/json",dataType:"json"};return $http(post)}};return MandrillEmailServices}];angular.module("Shared").service("__Email",EmailServices)}(this),function(namespace,undefined){"use strict";var GlobalPortalServices=["$http","GlobalUser","$rootScope","$location","$timeout",function($http,GlobalUser,$rootScope,$location,$timeout){var GPservices={getGlobalLoggedUser:function(params){var currentEnv=$location.host(),baseurl="localhost";baseurl="http://global.laureate.net";var loggedUser=$http({method:"JSONP",async:!0,url:baseurl+"/_vti_bin/wcfGetActions/Service.svc/GetUserInformationCrossDomain?callback=JSON_CALLBACK"});return loggedUser},setLoginData:function(params){var self=this,userinfo=self.getGlobalLoggedUser();userinfo.then(function(response){GlobalUser.logged=""===response.data.name?!1:!0,GlobalUser.numericalId=response.data.numericalId,GlobalUser.email=response.data.email,GlobalUser.name=response.data.name,GlobalUser.university=response.data.university,$timeout(function(){$rootScope.$emit("Global.UserLogin",response.data.email)})})}};return GPservices}];angular.module("Shared").service("__GlobalPortal",GlobalPortalServices)}(this),function(namespace,undefined){"use strict";var ModalWindowFactory=["$rootScope",function($rootScope){var showModalOverlay=function(data){switch(data.contentType){case"Video":$rootScope.$broadcast("modal:open-video",data);break;case"Text":$rootScope.$broadcast("modal:open-text",data)}};return{showModalOverlay:showModalOverlay}}];angular.module("Shared").service("__ModalWindow",ModalWindowFactory)}(this),function(namespace,undefined){"use strict";var NotificationsFactory=["$rootScope",function($rootScope){var showError=function(message){$rootScope.$broadcast("notifications:error",message)},showWarning=function(message){$rootScope.$broadcast("notifications:warning",message)},showSuccess=function(message){$rootScope.$broadcast("notifications:success",message)};return{showError:showError,showWarning:showWarning,showSuccess:showSuccess}}];angular.module("Shared").service("__Notifications",NotificationsFactory)}(this),function(namespace,undefined){"use strict";var RegisterController=["$scope","$http","$stateParams","cssInjector","$location","__Login",function($scope,$http,$stateParams,cssInjector,$location,__Login){$scope.user={email:"",username:"",password:""},$scope.register=function(){""!==$scope.user.email&&""!==$scope.user.username&&""!==$scope.user.password&&__Login.register({email:$scope.user.email,username:$scope.user.username,password:$scope.user.password})}}];angular.module("Login").controller("RegisterCtrl",RegisterController)}(this),function(namespace,undefined){"use strict";var SignInController=["$scope","$http","$stateParams","cssInjector","$location","GlobalUser","__Login",function($scope,$http,$stateParams,cssInjector,$location,GlobalUser,__Login){$scope.user={username:"",password:""},$scope.signin=function(){__Login.setLoginData({username:$scope.user.username,password:$scope.user.password})}}];angular.module("Login").controller("SignInCtrl",SignInController)}(this),function(namespace,undefined){"use strict";var GlobalPortalServices=["$http","GlobalUser","GlobalSettings","$rootScope","$location","$timeout",function($http,GlobalUser,GlobalSettings,$rootScope,$location,$timeout){var GPservices={getGlobalLoggedUser:function(params){var loggedUser=$http({method:"POST",url:GlobalSettings.apiURL+"/"+GlobalSettings.apiEndPoint+"/"+GlobalSettings.apiVersion+"/collections/auth/login",params:params});return loggedUser},setLoginData:function(params){var self=this,userinfo=self.getGlobalLoggedUser(params);userinfo.then(function(response){""===response.data.email?GlobalUser.logged=!1:(GlobalUser.logged=!0,GlobalUser.email=response.data.email,GlobalUser.user=response.data.user,$location.path("/main/index"),$timeout(function(){$rootScope.$emit("Global.UserLogin",response.data.email)}))})},setRegister:function(params){var register=$http({method:"POST",url:GlobalSettings.apiURL+"/"+GlobalSettings.apiEndPoint+"/"+GlobalSettings.apiVersion+"/collections/auth/register",params:params});return register},register:function(params){var self=this,user=self.setRegister(params);user.then(function(response){""===response.data.email?GlobalUser.logged=!1:(GlobalUser.logged=!0,GlobalUser.email=response.data.email,GlobalUser.user=response.data.user,$location.path("/main/index"),$timeout(function(){$rootScope.$emit("Global.UserLogin",response.data.email)}))})}};return GPservices}];angular.module("Login").service("__Login",GlobalPortalServices)}(this);